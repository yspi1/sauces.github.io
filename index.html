<!DOCTYPE html>
<html lang="ru">
<head>
    <!-- ... (—Å—Ç–∏–ª–∏ –æ—Å—Ç–∞—é—Ç—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π) ... -->
</head>
<body>
    <!-- ... (HTML-—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Å—Ç–∞—ë—Ç—Å—è –ø—Ä–µ–∂–Ω–µ–π) ... -->

    <script>
        // –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏–≥—Ä—ã
        const config = {
            minBet: 10,
            maxBet: 10000,
            minBombs: 1,
            maxBombs: 24,
            gridSize: 5,
            initialBalance: 1000
        };

        // –°–æ—Å—Ç–æ—è–Ω–∏–µ –∏–≥—Ä—ã
        const state = {
            bet: 100,
            bombs: 5,
            multiplier: 1,
            revealed: 0,
            gameActive: false,
            cells: [],
            balance: config.initialBalance,
            maxWin: 5000,
            currentMultipliers: [1.2, 1.5, 2.0, 3.0],
            currentWin: 0,
            starLevel: 4 // –ù–∞—á–∏–Ω–∞–µ–º —Å 4 –∑–≤–µ–∑–¥
        };

        // –≠–ª–µ–º–µ–Ω—Ç—ã DOM
        const elements = {
            // ... (–æ—Å—Ç–∞–ª—å–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã) ...
            infoCards: [
                document.getElementById('mult-1'),
                document.getElementById('mult-2'),
                document.getElementById('mult-3'),
                document.getElementById('mult-4')
            ],
            infoLabels: [
                document.querySelector('.info-card:nth-child(1) .info-label'),
                document.querySelector('.info-card:nth-child(2) .info-label'),
                document.querySelector('.info-card:nth-child(3) .info-label'),
                document.querySelector('.info-card:nth-child(4) .info-label')
            ]
        };

        // –†–∞—Å—á–µ—Ç –º–Ω–æ–∂–∏—Ç–µ–ª–µ–π —Å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–º–∏ –∑–≤–µ–∑–¥–∞–º–∏
        function calculateMultipliers() {
            const bombCount = state.bombs;
            
            if (bombCount === 24) {
                state.currentMultipliers = [5.88, 0, 0, 0];
            } else {
                const base = 1 + (bombCount * 0.12);
                state.currentMultipliers = [
                    parseFloat((base * 0.5).toFixed(2)),
                    parseFloat((base * 0.75).toFixed(2)),
                    parseFloat((base * 1.0).toFixed(2)),
                    parseFloat((base * 1.5).toFixed(2))
                ];
            }
            
            updateMultipliersDisplay();
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –º–Ω–æ–∂–∏—Ç–µ–ª–µ–π —Å –Ω–æ–≤—ã–º–∏ –∑–≤–µ–∑–¥–∞–º–∏
        function updateMultipliersDisplay() {
            for (let i = 0; i < 4; i++) {
                elements.infoLabels[i].textContent = `${state.starLevel + i}‚≠ê`;
                elements.infoCards[i].textContent = state.currentMultipliers[i] || '-';
            }
        }

        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–ª–∏–∫–∞ –ø–æ –∫–ª–µ—Ç–∫–µ
        function handleCellClick(index) {
            if (!state.gameActive || state.cells[index].revealed) return;
            
            const cell = state.cells[index];
            cell.revealed = true;
            cell.element.classList.add('revealed', 'reveal-animation');
            
            if (cell.isBomb) {
                cell.element.textContent = 'üí£';
                cell.element.classList.add('bomb');
                endGame(false);
            } else {
                state.revealed++;
                
                // –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —É—Ä–æ–≤–µ–Ω—å –∑–≤–µ–∑–¥ –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –æ—Ç–∫—Ä—ã—Ç–∏—è
                state.starLevel++;
                calculateMultipliers();
                
                if (state.bombs === 24) {
                    state.multiplier = 5.88;
                } else {
                    state.multiplier = state.currentMultipliers[Math.min(state.revealed-1, 3)];
                }
                
                cell.element.textContent = '‚≠ê';
                cell.element.classList.add('star');
                cell.starsLabel.textContent = `+${Math.floor(state.bet * state.multiplier)}`;
                
                updateCurrentWin();
                
                if (state.revealed >= 1) {
                    elements.cashoutBtn.classList.remove('btn-disabled');
                    elements.cashoutBtn.classList.add('btn-success');
                    elements.cashoutBtn.disabled = false;
                }
                
                if (state.revealed === (config.gridSize * config.gridSize - state.bombs)) {
                    endGame(true);
                }
            }
        }

        // –ù–∞—á–∞–ª–æ –∏–≥—Ä—ã
        function startGame() {
            // ... (–ø—Ä–µ–¥—ã–¥—É—â–∏–π –∫–æ–¥) ...
            state.starLevel = 4; // –°–±—Ä–∞—Å—ã–≤–∞–µ–º –¥–æ 4 –∑–≤–µ–∑–¥
            calculateMultipliers();
            // ... (–æ—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–¥) ...
        }

        // ... (–æ—Å—Ç–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –æ—Å—Ç–∞—é—Ç—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π) ...
    </script>
</body>
</html>
